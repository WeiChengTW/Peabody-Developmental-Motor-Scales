<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>拍照存證｜魔法王國</title>
  <link rel="stylesheet" href="/css/styles.css?v=1" />
  <style>
    .camera-card{padding:20px}
    .cam-wrap{position:relative; border:4px solid #e7f3ff; border-radius:18px; background:#fff}
    .cam-view{display:flex; align-items:center; justify-content:center; padding:16px}
    video, canvas{max-width:100%; width:100%; border-radius:12px; background:#000}
    .cam-ops{display:flex; gap:12px; flex-wrap:wrap; justify-content:center; padding:16px}
    .tip{font-size:14px; color:#61707f; text-align:center; margin-top:8px}
    .ghostline{border:3px dashed #ffd4ef; padding:10px 14px; border-radius:12px; background:#fff}
  </style>
</head>
<body>
  <main class="playground">
    <section class="story-card camera-card" aria-live="polite">
      <div class="story-emoji" id="taskIcon"></div>
      <div class="story-text">
        <h2 class="story-title" id="taskTitle">拍照存證</h2>
        <p class="story-intro">請用相機拍下你完成的作品，保存做紀錄！</p>
      </div>
    </section>

    <section class="cam-wrap">
      <div class="cam-view">
        <video id="video" playsinline muted></video>
        <canvas id="canvas" style="display:none"></canvas>
      </div>
      <div class="cam-ops">
        <button id="openBtn" class="btn primary fat pill">📷 開啟相機</button>
        <button id="shotBtn" class="btn secondary fat pill" disabled>🎞️ 拍照</button>
        <button id="retakeBtn" class="btn ghost fat pill" disabled>↩️ 重拍</button>
        <button id="saveBtn" class="btn success fat pill" disabled>💾 存檔並回主頁</button>
      </div>
      <p class="tip">
        如果畫面是前鏡頭，請點「開啟相機」會自動切換為後鏡頭（某些裝置需手動允許）。
      </p>
    </section>

    <div class="cam-ops" style="margin-top:18px">
      <a id="backLink" href="/html/index.html" class="btn ghost pill">← 先回主頁</a>
    </div>
  </main>

  <script src="/js/camera.js?v=1" defer></script>
</body>
</html>
